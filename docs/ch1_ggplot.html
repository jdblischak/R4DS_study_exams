<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Vebash Naidoo" />

<meta name="date" content="2020-10-08" />

<title>Chapter 1 - Data Viz with ggplot</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R4DS Book - Prep for exam</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Chapter 1 - Data Viz with ggplot</h1>
<h4 class="author">Vebash Naidoo</h4>
<h4 class="date">10/08/2020</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span> workflowr <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2020-08-23
</p>
<p>
<strong>Checks:</strong> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7 <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>r4ds_book/</code> <span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed."> </span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a> analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version 1.6.2). The <em>Checks</em> tab describes the reproducibility checks that were applied when the results were created. The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date </a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate" class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git repository, you know the exact version of the code that produced these results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global environment can affect the analysis in your R Markdown file in unknown ways. For reproduciblity it’s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20200814code"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Seed:</strong> <code>set.seed(20200814)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20200814code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20200814)</code> was run prior to running the code in the R Markdown file. Setting a seed ensures that any results that rely on randomness, e.g. subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Session information:</strong> recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomsciencificityR4DSstudyexamstreeb96b2ff8d99a41d8406be4515de3d681fb9819e6targetblankb96b2ffa"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Repository version:</strong> <a href="https://github.com/sciencificity/R4DS_study_exams/tree/b96b2ff8d99a41d8406be4515de3d681fb9819e6" target="_blank">b96b2ff</a> </a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcomsciencificityR4DSstudyexamstreeb96b2ff8d99a41d8406be4515de3d681fb9819e6targetblankb96b2ffa" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/sciencificity/R4DS_study_exams/tree/b96b2ff8d99a41d8406be4515de3d681fb9819e6" target="_blank">b96b2ff</a>. See the <em>Past versions</em> tab to see a history of the changes made to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the analysis have been committed to Git prior to generating the results (you can use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only checks the R Markdown file, but you know if there are other scripts or data files that it depends on. Below is the status of the Git repository when the results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rproj.user/

Untracked files:
    Untracked:  analysis/images/
    Untracked:  code_snipp.txt

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not included in this status report because it is ok for generated content to have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made to the R Markdown (<code>analysis/ch1_ggplot.Rmd</code>) and HTML (<code>docs/ch1_ggplot.html</code>) files. If you’ve configured a remote Git repository (see <code>?wflow_git_remote</code>), click on the hyperlinks in the table below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/b96b2ff8d99a41d8406be4515de3d681fb9819e6/analysis/ch1_ggplot.Rmd" target="_blank">b96b2ff</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Latest additions
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/28dbedfcb6ea3a77a40d20df427f18908df746ad/docs/ch1_ggplot.html" target="_blank">28dbedf</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/5c5ee455b97833904f6cfbdef06fd4549ddb3e01/docs/ch1_ggplot.html" target="_blank">5c5ee45</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/865e66f4c8aada83abc2c7177b6c8ef55e608c50/analysis/ch1_ggplot.Rmd" target="_blank">865e66f</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-23
</td>
<td>
Ch1 more complete, plus started Ch2
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/051fc23191428d2dfd311b8d374cf2eb671b6c66/docs/ch1_ggplot.html" target="_blank">051fc23</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-22
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/4294654caaad58d070fa398f84e3ff9b5ad76f3d/analysis/ch1_ggplot.Rmd" target="_blank">4294654</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-22
</td>
<td>
More of Chapter 1 done
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/404509011bffaa50a4297b2298334c5f6d34e632/docs/ch1_ggplot.html" target="_blank">4045090</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/70845529656455c13d5918c3aac7901c269aecdf/analysis/ch1_ggplot.Rmd" target="_blank">7084552</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Corrected image files
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/f8f5ce118d1773e949b5e104d56c012a40713af2/docs/ch1_ggplot.html" target="_blank">f8f5ce1</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/60d834a1defe467c5bf0d5f73011e27ed52871c3/analysis/ch1_ggplot.Rmd" target="_blank">60d834a</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-21
</td>
<td>
Added more exercise solns to Chapter 1
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/589a0cab5736950bd10a3bec233a4aa8db394d49/docs/ch1_ggplot.html" target="_blank">589a0ca</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-18
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/801c1d7e74a88cf74b6c2760f0a1e99463d4625c/docs/ch1_ggplot.html" target="_blank">801c1d7</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-18
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/f28b0d399ad71a2bc4a83aa8e8cc38970df00b95/analysis/ch1_ggplot.Rmd" target="_blank">f28b0d3</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-18
</td>
<td>
Added more exercise solns to Chapter 1
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/9ea828099cb28c2857df68af0bf91167f59a3f7e/docs/ch1_ggplot.html" target="_blank">9ea8280</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/82f2e942d08254f2e3e746ff589197fc1d00ff56/analysis/ch1_ggplot.Rmd" target="_blank">82f2e94</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Add Chapter 1
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/sciencificity/R4DS_study_exams/e2cdeb50d0fb85499f3667853bb42e71c893a1dc/docs/ch1_ggplot.html" target="_blank">e2cdeb5</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/sciencificity/R4DS_study_exams/blob/6c088b57fc20330341fdc84ff5ce8079ebb2939a/analysis/ch1_ggplot.Rmd" target="_blank">6c088b5</a>
</td>
<td>
sciencificity
</td>
<td>
2020-08-14
</td>
<td>
Add Chapter 1
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="do-cars-with-big-engines-use-more-fuel-than-cars-with-small-engines" class="section level2">
<h2>Do cars with big engines use more fuel than cars with small engines?</h2>
<p>Hypothesis: Cars with bigger engines use more fuel, i.e. the fuel efficiency declines as the engine size gets bigger. If <code>miles per gallon</code> was on the y-axis and <code>engine size</code> on the x-axis we would see a decreasing trend.</p>
<pre class="r"><code>ggplot2::mpg</code></pre>
<pre><code># A tibble: 234 x 11
   manufacturer model    displ  year   cyl trans   drv     cty   hwy fl    class
   &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
 1 audi         a4         1.8  1999     4 auto(l~ f        18    29 p     comp~
 2 audi         a4         1.8  1999     4 manual~ f        21    29 p     comp~
 3 audi         a4         2    2008     4 manual~ f        20    31 p     comp~
 4 audi         a4         2    2008     4 auto(a~ f        21    30 p     comp~
 5 audi         a4         2.8  1999     6 auto(l~ f        16    26 p     comp~
 6 audi         a4         2.8  1999     6 manual~ f        18    26 p     comp~
 7 audi         a4         3.1  2008     6 auto(a~ f        18    27 p     comp~
 8 audi         a4 quat~   1.8  1999     4 manual~ 4        18    26 p     comp~
 9 audi         a4 quat~   1.8  1999     4 auto(l~ 4        16    25 p     comp~
10 audi         a4 quat~   2    2008     4 manual~ 4        20    28 p     comp~
# ... with 224 more rows</code></pre>
<pre class="r"><code># create coordinate system
ggplot(data = mpg, aes(x = displ,
                       y = hwy))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-1-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ,
                           y = hwy))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-1-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>My hypothesis has been confirmed.</p>
<pre class="r"><code>num_rows &lt;- nrow(mtcars)
num_cols &lt;- ncol(mtcars)
ex4_plot &lt;- ggplot(data = mpg,
                   aes(x = hwy,
                       y = cyl)) +
  geom_point()</code></pre>
<div id="exercises" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>Run <code>ggplot(data = mpg)</code>. What do you see? <br> Ans: An empty canvas of a plot. If you add the <code>aes(x = xx, y = yy)</code> you will see an empty canvas with the axes drawn.</li>
<li>How many <code>rows</code> are there in <code>mtcars</code>? Columns? <br> Ans: Number of rows is 32, cols is 11.</li>
<li>What does the <code>drv</code> variable describe? Ans: ‘The type of drive train, where f = front-wheel drive, r = rear wheel drive, 4 = 4wd’</li>
<li>Make a scatterplot of hwy versus cyl.</li>
</ol>
<pre class="r"><code>ex4_plot</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li>What happens if you make a scatterplot of <code>class</code> versus <code>drv</code>? Why is this plot not useful?</li>
</ol>
<pre class="r"><code>ggplot(data = mpg, aes(x = class, 
                       y = drv)) +
  geom_point()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>These are 2 categorical variables here so this isn’t very useful.</p>
</div>
</div>
<div id="aesthetics" class="section level2">
<h2>Aesthetics</h2>
<p>You can give extra information about your dataset by mapping data to aesthetics like <code>size</code>, <code>colour</code>, <code>shape</code>.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>colour = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-43-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>When you put a feature against an aesthetic <code>ggplot</code> will assign a unique <code>level</code> (here <span style="color: #008080;background-color:#9FDDBA">colour</span> to each <span style="color: #008080;background-color:#9FDDBA">class</span> of the feature) -&gt; this process is called <code>scaling</code>.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#800000;color:#FFE4E1'>size = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-44-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Mapping a unordered variable like <code>class</code> to an <span style="color: #FFE4E1;background-color:#800000">ordered aesthetic</span> like <code>size</code> is not a good idea, and we get a <span style="color: #FFE4E1;background-color:#800000">warning</span> here.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>alpha = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-45-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><span style="color: #008080;background-color:#9FDDBA"><code>alpha</code></span> is another aesthetic that we can use.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#800000;color:#FFE4E1'>shape = class</span>))</code></code></pre>
<pre><code>
Warning: The shape palette can deal with a maximum of 6 discrete values because
more than 6 becomes difficult to discriminate; you have 7. Consider
specifying shapes manually if you must have them.
</code></pre>
<pre><code>
Warning: Removed 62 rows containing missing values (geom_point).
</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-46-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><code>ggplot</code> only uses <strong>6</strong> <span style="color: #FFE4E1;background-color:#800000"><code>shape</code></span>s at a time, so we’re missing <code>suv</code>! When mapping to aesthetics think carefully about which aesthetic makes sense.</p>
<p>If you look at the <code>colour = class</code> plot vs the <code>shape = class</code> plot you may well think - it looks like previously labelled <code>suv</code> is now being considered to be <code>pickup</code>!? There are many points and the points get plotted on top of each other - if you look near <code>displ = 5 and hwy = 12</code> notice that there is an <code>pickup</code> point there … previously there was an <code>suv</code> point there. Let’s jitter the data so that the points lie a little away from each other to show that there’s not any issue with <code>ggplot</code>, instead the data lying on top of each other shows the last <code>class</code>.</p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy,
                 colour = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy,
                 shape = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-2.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_jitter(aes(x = displ, y = hwy,
                 colour = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-3.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_jitter(aes(x = displ, y = hwy,
                 shape = class))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-9-4.png" width="672" style="display: block; margin: auto;" /></p>
<p>Occassionally you may want to change all the points sizes uniformly (irrespective of any other data feature) - in this case you may put the aesthetic on the outside of the <code>aes()</code>.</p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#e5989b;color:#6d6875'>colour = "blue"</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-47-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#e5989b;color:#6d6875'>size = 4</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-48-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-1" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>What’s gone wrong with this code? Why are the points not blue?</li>
</ol>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy, <span style='background-color:#800000;color:#FFE4E1'>color = "blue"</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-49-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The <span style="color: #FFE4E1;background-color:#800000"><code>color</code></span> attribute maps to a static colour and yet appears within <code>aes()</code>.</p>
<p>To correct, put <code>colour = 'blue'</code> outside the <code>aes()</code></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy), <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#e5989b;color:#6d6875'>color = "blue"</span>)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-50-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Which variables in mpg are categorical? Which variables are continuous? (Hint: type ?mpg to read the documentation for the dataset). How can you see this information when you run mpg?</li>
</ol>
<p><code>manufacturer</code>, <code>model</code>, <code>trans</code>, <code>drv</code>, <code>fl</code> and <code>class</code> are categories (I also think <code>cyl</code> may be considered a category since it takes on 4 values based on a limited number of cylinders); <code>displ</code>, <code>year</code>, <code>cty</code>, <code>hwy</code>, <code>cyl</code> are continuous. You can convert <code>mpg</code> to a tibble (if it is not already) and check the types using <code>glimpse()</code>.</p>
<pre class="r"><code>glimpse(mpg)</code></pre>
<pre><code>Rows: 234
Columns: 11
$ manufacturer &lt;chr&gt; &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;, &quot;audi&quot;...
$ model        &lt;chr&gt; &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4&quot;, &quot;a4 quattro&quot;...
$ displ        &lt;dbl&gt; 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0,...
$ year         &lt;int&gt; 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, ...
$ cyl          &lt;int&gt; 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, ...
$ trans        &lt;chr&gt; &quot;auto(l5)&quot;, &quot;manual(m5)&quot;, &quot;manual(m6)&quot;, &quot;auto(av)&quot;, &quot;a...
$ drv          &lt;chr&gt; &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;,...
$ cty          &lt;int&gt; 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17...
$ hwy          &lt;int&gt; 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25...
$ fl           &lt;chr&gt; &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;, &quot;p&quot;,...
$ class        &lt;chr&gt; &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;, &quot;compact&quot;,...</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Map a continuous variable to color, size, and shape. How do these aesthetics behave differently for categorical vs. continuous variables?</li>
</ol>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy, 
                 colour = cyl))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg) +
  geom_point(aes(x = displ, y = hwy, 
                 colour = cty))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-15-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>The colours are scaled from the lowest to the highest value using dark to light blue.</p>
<ol start="4" style="list-style-type: decimal">
<li>What happens if you map the same variable to multiple aesthetics?</li>
</ol>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ, y = hwy,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>colour = class</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>size = class</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-51-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Here we have both <span style="color: #008080;background-color:#9FDDBA"><code>colour</code> and <code>size</code></span> mapped to <code>class</code>. The plot offers no new information with the second aesthetic so I’d consider it a poor plot. You should use aesthetics mapped to different features in your data to meet with the <strong>Axiom</strong> that <em>‘The greatest value of a picture is when it forces us to notice what we never expected to see. –John Tukey’</em> as mentioned in the beginning of the <strong>Aesthetic Mappings</strong> section!</p>
<ol start="5" style="list-style-type: decimal">
<li>What does the stroke aesthetic do? What shapes does it work with? (Hint: use ?geom_point)</li>
</ol>
<p><strong>Tip: Did you know that when you call <code>?geom_point</code> you can go to an example and highlight it, press ‘Ctrl + Enter’ and it will place that example in your console and run it?</strong></p>
<p><img src = assets/help_ctrl_enter.PNG width = 250px></p>
<p><img src = assets/ctrl_enter_example_help_file2.gif></p>
<pre class="r"><code># For shapes that have a border (like 21), you can colour the inside and
# outside separately. Use the stroke aesthetic to modify the width of the
# border
ggplot(mtcars, aes(wt, mpg)) +
  geom_point(shape = 2, colour = &quot;black&quot;, fill = &quot;white&quot;, size = 5, stroke = 5)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(mtcars, aes(wt, mpg)) +
  geom_point(shape = 23, colour = &quot;black&quot;, fill = &quot;white&quot;, size = 5, stroke = 3)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-17-2.png" width="672" style="display: block; margin: auto;" /></p>
<p><img src = assets/shape.PNG></p>
<p>Stroke changes the border width as described in the example comment, and works with any shape that has a border hence will work with shapes <code>0-14</code>, and <code>21-24</code>. An example of each is above.</p>
<ol start="6" style="list-style-type: decimal">
<li>What happens if you map an aesthetic to something other than a variable name, like aes(colour = displ &lt; 5)? Note, you’ll also need to specify x and y.</li>
</ol>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colour = displ</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-52-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Points are split according to the criteria <span style="color: #008080;background-color:#9FDDBA"><code>displ &lt; 5</code></span> and are coloured differently depending on what value they have for displacement.</p>
</div>
</div>
<div id="facets" class="section level2">
<h2>Facets</h2>
<p>Another way to add information on your plot is to use <code>facets</code>.</p>
<ul>
<li><p><code>facet_wrap()</code> allows faceting by a single variable</p>
<ul>
<li>First argument is a formula <code>~ var_name</code></li>
<li>Variable passed in should be discrete.</li>
</ul></li>
<li><p><code>facet_grid()</code> allows the faceting by 2 variables.</p>
<ul>
<li><code>var_name1 ~ var_name2</code></li>
</ul></li>
</ul>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_wrap(~ class, nrow = 2)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-53-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(mapping = aes(x = displ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_grid(drv ~ class)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-54-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-2" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li>What happens if you facet on a continuous variable?</li>
</ol>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_point(aes(x = displ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = hwy)) +<br>&nbsp;&nbsp;<span style='background-color:#800000;color:#FFE4E1'>facet_wrap(~ cty)</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-55-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code>The plot is created but it doesn&#39;t make sense to split our data 
by a continuous variable. </code></pre>
<ol style="list-style-type: decimal">
<li><p>What do the empty cells in plot with <code>facet_grid(drv ~ cyl)</code> mean? How do they relate to this plot?</p>
<p>The empty spots refer to that <code>drv and cyl combination</code> being missing.</p>
<pre><code>ggplot(data = mpg) + &lt;br&gt;
  geom_point(mapping = aes(x = drv, y = cyl))
</code></pre>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = drv, y = cyl))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/facet_ex2-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>It relates to the above in that you can see that the <code>drv = 4; cyl = 5</code> combination has no observations. This is also the case in the faceted plot.</p></li>
<li><p>What plots does the following code make? What does . do?</p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy)) +<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_grid(drv ~ .)</span></code></code></pre>
<pre><code> &lt;img src=&quot;figure/ch1_ggplot.Rmd/unnamed-chunk-56-1.png&quot; width=&quot;672&quot; style=&quot;display: block; margin: auto;&quot; /&gt;</code></pre>
<p>The <span style="color: #008080;background-color:#9FDDBA"><code>facet_grid  (drv ~ .)</code></span> facets the <code>drv</code> categories into rows. It says facet this plot by <code>drv</code> as row panels but I don’t want anything as column panels (hence the <code>.</code>).</p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom_point(mapping = aes(x = displ, y = hwy)) +<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>facet_grid(. ~ cyl)</span></code></code></pre>
<pre><code> &lt;img src=&quot;figure/ch1_ggplot.Rmd/unnamed-chunk-57-1.png&quot; width=&quot;672&quot; style=&quot;display: block; margin: auto;&quot; /&gt;</code></pre>
<p>The <span style="color: #008080;background-color:#9FDDBA"><code>facet_grid(. ~ cyl)</code></span> facets the <code>cyl</code> categories into columns. It says facet this plot by <code>cyl</code> as column panels but I don’t want anything as row panels (hence the <code>.</code>).</p></li>
<li><p>Take the first faceted plot in this section:</p>
<pre><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)
</code></pre>
<p>What are the advantages to using faceting instead of the colour aesthetic? What are the disadvantages? How might the balance change if you had a larger dataset?</p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
<ul>
<li><p>What are the advantages to using faceting instead of the colour aesthetic? <br> You can see the patterns in each class much easier.</p></li>
<li><p>What are the disadvantages? <br> You may lose sight of the overall trend across all observations, and comparing categories becomes more “work”.</p></li>
<li><p>How might the balance change if you had a larger dataset? <br> If you have many categories it becomes overwhelming.</p></li>
</ul></li>
<li><p>Read ?facet_wrap. What does nrow do? What does ncol do? What other options control the layout of the individual panels? Why doesn’t facet_grid() have nrow and ncol arguments? <br> From the help page these are the main aspects that alter your visuals.</p></li>
</ol>
<ul>
<li><code>nrow</code> and <code>ncol</code> specify the number of rows or columns you’re looking for in your plot.</li>
<li><code>scales</code>: Should scales be fixed (“fixed”, the default), free (“free”), or free in one dimension (“free_x”, “free_y”)?</li>
<li>Use the <code>labeller</code> option to control how labels are printed.</li>
<li>Use <code>strip.position</code> to display the facet labels at the side of your choice. Setting it to <code>bottom</code> makes it act as a subtitle for the axis. This is typically used with free scales and a theme without boxes around strip labels.</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>When using facet_grid() you should usually put the variable with more unique levels in the columns. Why? <br> I would think this orientation makes best use of the screen real estate available.</li>
</ol>
</div>
</div>
<div id="geometric-objects" class="section level2">
<h2>Geometric Objects</h2>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-25-1.png" width="50%" /><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-25-2.png" width="50%" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_point</span>(mapping = aes(x = displ, y = hwy))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-58-1.png" width="50%" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) + <br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_smooth</span>(mapping = aes(x = displ, y = hwy))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-58-2.png" width="50%" /></p>
<p>The above plots are made using the same data, but the <span style="color: #008080;background-color:#9FDDBA"><code>geoms</code></span> are different. To change the plot type i.e. <code>bar</code>, <code>boxplot</code>, <code>line</code> etc. you just <span style="color: #008080;background-color:#9FDDBA">change the <code>geom</code> you add to <code>ggplot</code>.</span> The <code>aesthetics</code> that work with each <code>geom</code> is different however. E.g. you may set the <span style="color: #008080;background-color:#9FDDBA"><code>linetype</code></span> of a line, but you <strong>can’t</strong> change the <span style="color: #FFE4E1;background-color:#800000"><code>shape</code> of a line.</span></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_line(aes(x = displ, y = hwy, <span style='background-color:#9FDDBA;color:#008080'>linetype = drv</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-59-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;geom_smooth(aes(x = displ, y = hwy, <span style='background-color:#9FDDBA;color:#008080'>linetype = drv</span>))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-60-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code class='language-r'><code>ggplot(data = mpg) +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_point(mapping = aes(x = displ, y = hwy, colour = drv))</span> +<br>&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>geom_smooth(mapping = aes(x = displ, y = hwy, linetype = drv, colour = drv))</span></code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-61-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>We are also able to add more than <span style="color: #008080;background-color:#9FDDBA">one geom</span> on a plot. In the above we show both the <span style="color: #008080;background-color:#9FDDBA">raw data points</span> coloured by the drive type - e.g. 4 wheel, rear drive or front wheel, as well as each drive types <span style="color: #008080;background-color:#9FDDBA">smoothing line</span>. But the downside to the above is that I had to specify the <code>mapping</code> twice with many repeated elements. To avoid this <code>ggplot</code> provides a handy alternate - you may set the <code>mapping</code> in the <code>ggplot()</code> call itself - the <code>mapping</code> is treated as <strong>global</strong> to all subsequent <code>geoms</code> unless you specifically override these.</p>
<pre><code class='language-r'><code>ggplot(data = mpg, <span style='background-color:#9FDDBA;color:#008080'>mapping = aes(x = displ, y = hwy, colour = drv)</span>) +<br>&nbsp;&nbsp;geom_point() +<br>&nbsp;&nbsp;geom_smooth(mapping = aes(linetype = drv))</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-62-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Also in the above you may have noticed that <span style="color: #008080;background-color:#9FDDBA"><code>geom_smooth()</code></span> included it’s own mapping. This basically says <em>‘Hey, take all the attributes as per the ggplot mapping BUT replace these components (if it exists) as described in this geom’.</em></p>
<pre><code class='language-r'><code>ggplot(data = mpg, <span style='background-color:#9FDDBA;color:#008080'>mapping = aes(x = displ, y = hwy)</span>) +<br>&nbsp;&nbsp;geom_point(<span style='background-color:#9FDDBA;color:#008080'>mapping = aes(colour = class)</span>) +<br>&nbsp;&nbsp;geom_smooth()</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-63-1.png" width="672" style="display: block; margin: auto;" /> For example here when it gets to the <span style="color: #008080;background-color:#9FDDBA"><strong>geom_point(mapping = aes(colour = class))</strong></span> line it asks:</p>
<ol style="list-style-type: decimal">
<li>Does this mapping specify a new <code>x</code>? It doesn’t, so <code>x = displ</code> is set, as per the <code>ggplot()</code> <code>mapping()</code>.</li>
<li>Does this mapping specify a new <code>y</code>? It doesn’t, so <code>y = hwy</code> is set, as per the <code>ggplot()</code> <code>mapping()</code>.</li>
<li>Is there anything extra set? Yip, <code>colour = class</code> is set, so let me apply that to this <code>geom_point</code>’s only, hence the scatterpoint plots are coloured by the <code>class</code> of the vehicle.</li>
</ol>
<p>You may also <strong>even</strong> change the <strong>data</strong> for each layer! Here the <code>smoothing</code> function is included but for a subset of the data.</p>
<pre><code class='language-r'><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +<br>&nbsp;&nbsp;geom_point(mapping = aes(colour = class)) +<br>&nbsp;&nbsp;geom_smooth(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style='background-color:#9FDDBA;color:#008080'>data = filter(mpg, class == "subcompact")</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;se = FALSE # remove the error bands that display around the line<br>&nbsp;&nbsp;)</code></code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-64-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="exercises-3" class="section level3">
<h3>Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What geom would you use to draw a line chart? A boxplot? A histogram? An area chart?</p>
<ul>
<li>line chart: geom_line()</li>
<li>boxplot: geom_boxplot()</li>
<li>histogram: geom_histogram()</li>
<li>Area chart: geom_area()</li>
</ul></li>
<li><p>Run this code in your head and predict what the output will look like. Then, run the code in R and check your predictions.</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
  geom_point() + 
  geom_smooth(se = FALSE)</code></pre>
<p>In my head this will produce a scatterplot with <code>displ</code> on the x-axis, <code>hwy</code> on the y-axis where each point is coloured by the type of <code>drive</code> the vehicle is (4 wheel, front-wheel, rear-wheel). The plot will also contain smoothing lines (with no error bands) for each drive type (since <code>colour</code> is set in the <code>ggplot</code> mapping layer, and is applicable for both points, and the smoothing lines).</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
  geom_point() + 
  geom_smooth(se = FALSE)</code></pre>
<img src="figure/ch1_ggplot.Rmd/unnamed-chunk-34-1.png" width="672" style="display: block; margin: auto;" /></li>
<li><p>What does <code>show.legend = FALSE</code> do? What happens if you remove it?<br />
Why do you think I used it earlier in the chapter?</p>
<p>It removes the legend that shows up when we add certain aesthetics such as <code>colour</code>, <code>shape</code> etc.</p>
<p>If we remove it the legend will show by the fact that a certain non-xy aesthetic has been added.</p>
<p>It was used to remove the legend earlier which would have shown up due to the <code>colour = drv</code> aesthetic.</p></li>
<li><p>What does the <code>se</code> argument to <code>geom_smooth()</code> do? It sets the errors bands on the smoothing function to either on or off.</p></li>
<li><p>Will these two graphs look different? Why/why not?</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point() + 
  geom_smooth()

ggplot() + 
  geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy))</code></pre>
<p>They will look the same. In the first plot the <code>data = mpg, mapping = aes(x = displ, y = hwy)</code> will be inherited by both <code>geom_point()</code> and <code>geom_smooth()</code>. In the second plot the <code>data = mpg, mapping = aes(x = displ, y = hwy)</code> is repeated in each geom and hence both plots will be the same.</p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point() + 
  geom_smooth()</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-36-1.png" width="50%" /></p>
<pre class="r"><code>ggplot() + 
  geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-36-2.png" width="50%" /></p></li>
<li><p>Recreate the R code necessary to generate the following graphs.</p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(size = 2) +
  geom_smooth(se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-37-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(size = 2) +
  geom_smooth(aes(group = drv), se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-38-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy, colour = drv)) +
  geom_point(size = 2) +
  geom_smooth(se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-39-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(aes(colour = drv)) +
  geom_smooth(se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-40-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(aes(colour = drv)) +
  geom_smooth(aes(linetype = drv), se = FALSE)</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-41-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(size = 3, colour = &quot;white&quot;) +
  geom_point(aes(colour = drv))</code></pre>
<p><img src="figure/ch1_ggplot.Rmd/unnamed-chunk-42-1.png" width="672" style="display: block; margin: auto;" /></p></li>
</ol>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 3.6.3 (2020-02-29)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 18363)

Matrix products: default

locale:
[1] LC_COLLATE=English_South Africa.1252  LC_CTYPE=English_South Africa.1252   
[3] LC_MONETARY=English_South Africa.1252 LC_NUMERIC=C                         
[5] LC_TIME=English_South Africa.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] flair_0.0.2     forcats_0.5.0   stringr_1.4.0   dplyr_1.0.0    
 [5] purrr_0.3.4     readr_1.3.1     tidyr_1.1.0     tibble_3.0.3   
 [9] ggplot2_3.3.0   tidyverse_1.3.0 workflowr_1.6.2

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.4.6     lubridate_1.7.8  lattice_0.20-38  assertthat_0.2.1
 [5] rprojroot_1.3-2  digest_0.6.25    utf8_1.1.4       R6_2.4.1        
 [9] cellranger_1.1.0 backports_1.1.6  reprex_0.3.0     evaluate_0.14   
[13] httr_1.4.2       pillar_1.4.6     rlang_0.4.7      readxl_1.3.1    
[17] rstudioapi_0.11  whisker_0.4      Matrix_1.2-18    rmarkdown_2.1   
[21] labeling_0.3     splines_3.6.3    munsell_0.5.0    broom_0.5.6     
[25] compiler_3.6.3   httpuv_1.5.2     modelr_0.1.6     xfun_0.13       
[29] pkgconfig_2.0.3  mgcv_1.8-31      htmltools_0.4.0  tidyselect_1.1.0
[33] fansi_0.4.1      crayon_1.3.4     dbplyr_1.4.3     withr_2.2.0     
[37] later_1.0.0      grid_3.6.3       nlme_3.1-144     jsonlite_1.7.0  
[41] gtable_0.3.0     lifecycle_0.2.0  DBI_1.1.0        git2r_0.26.1    
[45] magrittr_1.5     scales_1.1.0     cli_2.0.2        stringi_1.4.6   
[49] farver_2.0.3     fs_1.4.1         promises_1.1.0   xml2_1.3.2      
[53] ellipsis_0.3.1   generics_0.0.2   vctrs_0.3.2      tools_3.6.3     
[57] glue_1.4.1       hms_0.5.3        yaml_2.2.1       colorspace_1.4-1
[61] rvest_0.3.5      knitr_1.28       haven_2.2.0     </code></pre>
</div>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
